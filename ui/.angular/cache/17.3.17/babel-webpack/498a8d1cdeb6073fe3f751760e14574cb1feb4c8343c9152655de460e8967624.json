{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/janaa/Downloads/client-management-complete/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule, FormBuilder, Validators } from '@angular/forms';\nlet MeetingsComponent = class MeetingsComponent {\n  constructor(svc, cs) {\n    this.svc = svc;\n    this.cs = cs;\n    this.meetings = [];\n    this.allClients = [];\n    this.filterClient = '';\n    this.showForm = false;\n    this.fb = new FormBuilder();\n    this.form = this.fb.group({\n      title: ['', Validators.required],\n      clientId: [null, Validators.required],\n      when: ['', Validators.required],\n      mode: ['Online', Validators.required],\n      notes: ['']\n    });\n  }\n  ngOnInit() {\n    this.loadClients();\n    this.load();\n    this.loadMeetings();\n  }\n  loadClients() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.allClients = (yield _this.cs.list()) || [];\n    })();\n  }\n  load() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.meetings = (yield _this2.svc.list({\n        clientId: _this2.filterClient || undefined\n      })) || [];\n    })();\n  }\n  loadMeetings() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.meetings = yield _this3.svc.list();\n      console.log('Loaded meetings:', _this3.meetings);\n    })();\n  }\n  openForm() {\n    this.showForm = true;\n  }\n  closeForm() {\n    this.showForm = false;\n    this.form.reset();\n  }\n  save() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      if (_this4.form.invalid) return;\n      yield _this4.svc.create(_this4.form.value);\n      _this4.closeForm();\n      yield Promise.all([_this4.load(), _this4.loadClients()]);\n    })();\n  }\n};\nMeetingsComponent = __decorate([Component({\n  selector: 'app-meetings',\n  standalone: true,\n  imports: [CommonModule, FormsModule, ReactiveFormsModule],\n  template: `\n    <div>\n      <header class=\"toolbar\">\n        <h2 style=\"margin:0\">Meetings</h2>\n        <div class=\"actions\">\n          <select [(ngModel)]=\"filterClient\" (change)=\"load()\">\n            <option value=\"\">All clients</option>\n            <option *ngFor=\"let c of allClients\" [value]=\"c.id\">{{c.name}}</option>\n          </select>\n          <button class=\"primary\" (click)=\"openForm()\">+ New Meeting</button>\n        </div>\n      </header>\n\n      <div *ngIf=\"showForm\" class=\"card\" style=\"margin-bottom:16px;\">\n        <form [formGroup]=\"form\" (ngSubmit)=\"save()\">\n          <div style=\"display:grid;gap:12px;\">\n            <input formControlName=\"title\" placeholder=\"Title\" />\n            <select formControlName=\"clientId\" placeholder=\"Client>\n              <option *ngFor=\"let c of allClients\" [value]=\"c.id\">{{c.name}}</option>\n            </select>\n            <input formControlName=\"when\" type=\"datetime-local\" />\n            <select formControlName=\"mode\"><option>Online</option><option>In-Person</option></select>\n            <textarea formControlName=\"notes\" placeholder=\"Notes\"></textarea>\n            <div>\n              <button class=\"primary\" type=\"submit\" [disabled]=\"form.invalid\">Save</button>\n              <button type=\"button\" (click)=\"closeForm()\" style=\"margin-left:8px;\">Cancel</button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n      <div *ngIf=\"meetings.length\" style=\"display:grid;gap:12px;\">\n        <div *ngFor=\"let m of meetings\" class=\"card\">\n          <h3 style=\"margin:0\">{{m.title}}</h3>\n          <p><strong>Client:</strong> {{m.client_name || m.clientId}}</p>\n          <p><strong>When:</strong> {{m.when}}</p>\n          <p><strong>Mode:</strong> {{m.mode}}</p>\n          <p *ngIf=\"m.notes\"><strong>Notes:</strong> {{m.notes}}</p>\n        </div>\n      </div>\n      <p *ngIf=\"!meetings.length\">No meetings found.</p>\n    </div>\n  `\n})], MeetingsComponent);\nexport { MeetingsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}